(window.webpackJsonpclickerbattle=window.webpackJsonpclickerbattle||[]).push([[0],{138:function(e,t,n){e.exports=n(273)},217:function(e,t,n){e.exports=n.p+"static/media/persik.4e1ec840.png"},246:function(e,t){},273:function(e,t,n){"use strict";n.r(t);n(139),n(165),n(167),n(168),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207);var a=n(0),c=n.n(a),o=n(35),i=n.n(o),l=n(28),r=n.n(l),u=n(83),s=n.n(u),p=n(127),m=n(64),d=n(51),b=n.n(d),f=n(63),h=n.n(f),v=(n(216),n(128)),E=n(39),j=n(129),g=n(130),O=n(17),k=n(134),w=n(132),y=n.n(w),A=n(82),I=n.n(A),K=n(288),P=n(289),S=(n(217),n(131)),V=n.n(S),W=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(j.a)(this,Object(g.a)(t).call(this,e))).state={activePanel:"main",popout:null},n.login=n.login.bind(Object(O.a)(n)),n.componentDidMount=n.componentDidMount.bind(Object(O.a)(n)),r.a.send("VKWebAppInit",{}),n}return Object(k.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({popout:c.a.createElement(h.a,null)}),setTimeout((function(){e.login()}),100)}},{key:"login",value:function(){var e=V.a.connect("https://ih1705413.vds.myihor.ru:8080/",{secure:!0});e.on("connect",function(){e.json.send({method:"login",url:window.location.search.replace("?","")}),e.on("message",function(e){"login"===e.method&&e.access&&this.setState({popout:null}),console.log(e)}.bind(this))}.bind(this))}},{key:"render",value:function(){return c.a.createElement(b.a,{popout:this.state.popout},c.a.createElement(b.a,{activePanel:this.state.activePanel},c.a.createElement(y.a,{id:"main"},c.a.createElement(I.a,null,"VK App"),c.a.createElement(P.a,{fullWidth:!0},c.a.createElement(K.a,null,c.a.createElement("persik",null)),c.a.createElement(K.a,null,c.a.createElement("persik",null)),c.a.createElement(K.a,null,c.a.createElement("persik",null))))))}}]),t}(c.a.Component),x=function(){var e=Object(a.useState)("home"),t=Object(m.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(null),l=Object(m.a)(i,2),u=l[0],d=l[1],f=Object(a.useState)(c.a.createElement(h.a,{size:"large"})),v=Object(m.a)(f,2),E=v[0],j=v[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,d(t),j(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var c=document.createAttribute("scheme");c.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(c)}})),function(){e.apply(this,arguments)}()}),[]);return c.a.createElement(b.a,{activePanel:n,popout:E},c.a.createElement(W,{id:"home",fetchedUser:u,go:function(e){o(e.currentTarget.dataset.to)}}))};r.a.send("VKWebAppInit"),i.a.render(c.a.createElement(x,null),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.843662b4.chunk.js.map